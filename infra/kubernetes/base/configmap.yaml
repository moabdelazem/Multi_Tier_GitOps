apiVersion: v1
kind: ConfigMap
metadata:
  name: multitier-api-configmap
  namespace: multitier-app
  labels:
    app: multitier-api
    environment: production
data:
  # App Configurations
  PORT: ":8888"
  ENVIRONMENT: "production"

  # Database Configurations
  POSTGRES_DB: "multi_tier_db"
  DB_HOST: "multitier-db-svc"
  DB_PORT: "5432"
  DB_NAME: "multi_tier_db"
  DB_SSLMODE: "require"
  DB_MAX_OPEN_CONNS: "25"
  DB_MAX_IDLE_CONNS: "5"
  DB_CONN_MAX_LIFETIME: "5m"
  DB_CONN_MAX_IDLE_TIME: "10m"

  # Logging Configuration
  LOG_LEVEL: "info"
  LOG_FORMAT: "json"
  LOG_TIME_FORMAT: "rfc3339"

  # CORS Configuration
  CORS_ALLOWED_ORIGINS: "*"
  CORS_ALLOWED_METHODS: "GET,POST,PUT,DELETE,OPTIONS"
  CORS_ALLOWED_HEADERS: "Accept,Authorization,Content-Type,X-Request-ID"
  CORS_EXPOSED_HEADERS: "X-Request-ID"
  CORS_ALLOW_CREDENTIALS: "false"
  CORS_MAX_AGE: "300"
